import sys
from Connexion import Connexion
from Client import Client
from Protocole_xml import Protocole_xml
from Protocole_json import Protocole_json
from Prompt import Prompt


def main():

    if len(sys.argv) < 2:
        print("Ce client nÃ©cessite le port et le format de message transmis, sois XML ou Json.")
        sys.exit(1)

    host = '138.197.156.251'
    port = int(sys.argv[1])

    if (sys.argv[2] == "XML"):
        protocole = Protocole_xml()
    elif(sys.argv[2] == "Json"):
        protocole = Protocole_json()
    else:
        print("Protocole invalide")
        sys.exit(1)


    connexion = Connexion(host, port)

    client = Client(connexion, protocole)

    if (sys.argv[3] == "prompt"):
        prompt = Prompt(connexion)
