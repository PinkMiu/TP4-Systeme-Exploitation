import socket

class Connexion:  ## Se connecte au serveur  et s'occupe de la communication avec le serveur!
    """
    Cette classe fait l'interface avec le serveur
    """

    def __init__(self, host, port):
        self.clientSocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        self.host = host
        self.port = port
        self.connect(self)
        pass

    def connect(self):
        self.clientSocket.connect(self.host, self.port)

    def communicateToServer(self,text): ## méthode principale de communication serveur
        self.send(self,text)
        return self.receive(self)

    def send(self, text):  ## envoyer information au serveur
        self.clientSocket.sendall(text).encode("UTF-8")

    def receive(self):  ## recoi une réponse du serveur
        data = self.clientSocket.recv(2048).decode("UTF-8")
        return data

    def close(self):
        self.clientSocket.close(self)
